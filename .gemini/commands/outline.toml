description = "Generate a detailed article outline with Hugo front matter from research notes or a topic cluster plan."
prompt = """
Act as an expert technical content strategist and writer.

**Goal:** Create a comprehensive, production-ready article outline in Markdown format, including Hugo Front Matter.

**Input Context:**
You have been provided with text context (via --add), which is either:
1.  **Research Notes:** Raw research about a topic.
2.  **Topic Cluster Plan:** A structured plan listing a Pillar Post and multiple Cluster Posts.

**Target:** {{args}}

**Instructions:**

1.  **Analyze the Input:**
    - If the context is a **Topic Cluster Plan** and {{args}} specifies a specific article (e.g., "Pillar Post", "Article 1", "Cluster Post 3"):
        - Locate that specific article's definition in the plan.
        - Extract its specific Title, Description, Audience, Keywords, and Questions.
        - Extract the `Series Name` from the plan metadata.
        - Use the article number (if available) for the `weight` field (0 for Pillar).
    - If the context is **Research Notes** or {{args}} is a general topic:
        - Use {{args}} as the main topic title.
        - Synthesize the research notes to build the outline.

2.  **Generate the Outline:**
    - Produce a complete Hugo-compatible markdown file.
    - strictly follow the structure below.

---

## Front Matter (YAML format)
```yaml
---
title: "[Title from Plan OR Optimized SEO Title]"
date: [Current Date YYYY-MM-DDTHH:MM:SS]
draft: true
description: "[Description from Plan OR 150-160 char summary]"
series: ["[Series Name from Plan OR leave empty]"]
tags: ["[Keyword 1]", "[Keyword 2]", "[Keyword 3]"]
categories: ["PowerShell", "DevOps"]
weight: [Article Number OR omit]
---
```

## Article Structure

### Introduction (150-200 words)
**Hook:** [Engaging opening - question, statistic, or problem statement]
**Problem/Context:** [Why this topic matters now]
**Value Proposition:** [3-5 specific outcomes/takeaways]
**Preview:** [Brief overview of main sections]

### [Main Section 1: Title from Plan/Topic]

#### [Subsection 1.1: Key Concept]
**Key Points:**
- [Point 1]
- [Point 2]

**Content Elements:**
- [PLACEHOLDER: Explanation of concept]
- [PLACEHOLDER: Diagram or visual description]

#### [Subsection 1.2: Practical Application]
**Key Points:**
- [Point 1]
- [Point 2]

**Content Elements:**
- [PLACEHOLDER: Code example]
- [PLACEHOLDER: Real-world scenario]

### [Main Section 2: Title]

#### [Subsection 2.1: Title]
**Key Points:**
- [Point 1]
- [Point 2]

**Content Elements:**
- [PLACEHOLDER: Step-by-step guide]
- [PLACEHOLDER: PowerShell code block]
- [PLACEHOLDER: Expected output]

### [Main Section 3: Title]
[Continue structure...]

### Hands-On Example: [Scenario Name]

**Scenario:** [Real-world use case description]
**Prerequisites:** [Tools/Access needed]

**Implementation Steps:**
1. [Step 1]
2. [Step 2]
3. [Step 3]

**Code Solution:**
[PLACEHOLDER: Complete working script/code]

**Verification:**
[How to confirm success]

### Best Practices & Optimization

**Do's:**
- ✓ [Practice 1]
- ✓ [Practice 2]

**Don'ts:**
- ✗ [Anti-pattern 1]
- ✗ [Anti-pattern 2]

**Performance & Security:**
- [Tip 1]
- [Tip 2]

### Troubleshooting Common Issues

**Issue 1: [Error/Problem]**
- **Cause:** [Why it happens]
- **Solution:** [How to fix it]

**Issue 2: [Error/Problem]**
- **Cause:** [Why it happens]
- **Solution:** [How to fix it]

### Conclusion

**Key Takeaways:**
1. [Takeaway 1]
2. [Takeaway 2]
3. [Takeaway 3]

**Next Steps:**
- [Actionable advice]

---

<!-- Outline generated by Gemini. Ready for expansion. -->

**Action:**
Save the generated output to the file path: `plans/[topic-slug]/outlines/[article-slug].md` using the 'write_file' tool.
- Identify `[topic-slug]` from the parent folder of the context file provided (e.g., if context is `plans/my-topic/plan.md`, then `topic-slug` is `my-topic`).
- Identify `[article-slug]` by converting the article title to kebab-case.
"""
